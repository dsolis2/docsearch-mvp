{"version":3,"file":"rag-chat.d8519f2b5ea205881881.js","mappings":"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","sources":["webpack://RAGChat/webpack/universalModuleDefinition","webpack://RAGChat/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://RAGChat/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://RAGChat/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://RAGChat/./node_modules/css-loader/dist/runtime/api.js","webpack://RAGChat/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://RAGChat/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://RAGChat/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://RAGChat/./src/styles/components.css","webpack://RAGChat/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://RAGChat/webpack/bootstrap","webpack://RAGChat/webpack/runtime/compat get default export","webpack://RAGChat/webpack/runtime/define property getters","webpack://RAGChat/webpack/runtime/hasOwnProperty shorthand","webpack://RAGChat/webpack/runtime/make namespace object","webpack://RAGChat/webpack/runtime/nonce","webpack://RAGChat/./src/styles/components.css?29c0","webpack://RAGChat/./src/utils/dom-helpers.ts","webpack://RAGChat/./src/services/state-manager.ts","webpack://RAGChat/./src/services/websocket-client.ts","webpack://RAGChat/./src/components/chat-interface.ts","webpack://RAGChat/./src/components/message-list.ts","webpack://RAGChat/./src/components/input-form.ts","webpack://RAGChat/./src/components/citation-panel.ts","webpack://RAGChat/./src/components/index.ts","webpack://RAGChat/./src/main.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RAGChat\"] = factory();\n\telse\n\t\troot[\"RAGChat\"] = factory();\n})(this, function() {\nreturn ","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* RAG Chat Components Styles */\\n\\n:root {\\n  --rag-primary-color: #2563eb;\\n  --rag-secondary-color: #64748b;\\n  --rag-background-color: #ffffff;\\n  --rag-surface-color: #f8fafc;\\n  --rag-border-color: #e2e8f0;\\n  --rag-text-primary: #1e293b;\\n  --rag-text-secondary: #64748b;\\n  --rag-text-muted: #94a3b8;\\n  --rag-error-color: #dc2626;\\n  --rag-success-color: #059669;\\n  --rag-warning-color: #d97706;\\n  \\n  --rag-border-radius: 0.5rem;\\n  --rag-border-radius-sm: 0.25rem;\\n  --rag-spacing-xs: 0.25rem;\\n  --rag-spacing-sm: 0.5rem;\\n  --rag-spacing-md: 1rem;\\n  --rag-spacing-lg: 1.5rem;\\n  --rag-spacing-xl: 2rem;\\n  \\n  --rag-font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;\\n  --rag-font-size-sm: 0.875rem;\\n  --rag-font-size-base: 1rem;\\n  --rag-font-size-lg: 1.125rem;\\n  \\n  --rag-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);\\n  --rag-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\\n  --rag-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\\n}\\n\\n/* Base component styles */\\n.rag-component {\\n  font-family: var(--rag-font-family);\\n  font-size: var(--rag-font-size-base);\\n  line-height: 1.5;\\n  color: var(--rag-text-primary);\\n  box-sizing: border-box;\\n}\\n\\n.rag-component *,\\n.rag-component *::before,\\n.rag-component *::after {\\n  box-sizing: inherit;\\n}\\n\\n/* Chat Interface */\\n.rag-chat-interface {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  max-height: 600px;\\n  background: var(--rag-background-color);\\n  border: 1px solid var(--rag-border-color);\\n  border-radius: var(--rag-border-radius);\\n  overflow: hidden;\\n  box-shadow: var(--rag-shadow-lg);\\n}\\n\\n/* Message List */\\n.rag-message-list {\\n  flex: 1;\\n  padding: var(--rag-spacing-md);\\n  overflow-y: auto;\\n  background: var(--rag-surface-color);\\n}\\n\\n.rag-message {\\n  margin-bottom: var(--rag-spacing-md);\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.rag-message--user {\\n  align-items: flex-end;\\n}\\n\\n.rag-message--assistant {\\n  align-items: flex-start;\\n}\\n\\n.rag-message__content {\\n  max-width: 80%;\\n  padding: var(--rag-spacing-sm) var(--rag-spacing-md);\\n  border-radius: var(--rag-border-radius);\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n}\\n\\n.rag-message--user .rag-message__content {\\n  background: var(--rag-primary-color);\\n  color: white;\\n  border-bottom-right-radius: var(--rag-border-radius-sm);\\n}\\n\\n.rag-message--assistant .rag-message__content {\\n  background: var(--rag-background-color);\\n  border: 1px solid var(--rag-border-color);\\n  border-bottom-left-radius: var(--rag-border-radius-sm);\\n}\\n\\n.rag-message__timestamp {\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-muted);\\n  margin-top: var(--rag-spacing-xs);\\n  padding: 0 var(--rag-spacing-sm);\\n}\\n\\n.rag-message__status {\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-secondary);\\n  margin-top: var(--rag-spacing-xs);\\n  padding: 0 var(--rag-spacing-sm);\\n  font-style: italic;\\n}\\n\\n.rag-message--streaming .rag-message__content::after {\\n  content: \\\"â–‹\\\";\\n  animation: rag-cursor-blink 1s infinite;\\n}\\n\\n@keyframes rag-cursor-blink {\\n  0%, 50% { opacity: 1; }\\n  51%, 100% { opacity: 0; }\\n}\\n\\n/* Input Form */\\n.rag-input-form {\\n  display: flex;\\n  padding: var(--rag-spacing-md);\\n  border-top: 1px solid var(--rag-border-color);\\n  background: var(--rag-background-color);\\n  gap: var(--rag-spacing-sm);\\n}\\n\\n.rag-input-form__textarea {\\n  flex: 1;\\n  resize: none;\\n  border: 1px solid var(--rag-border-color);\\n  border-radius: var(--rag-border-radius);\\n  padding: var(--rag-spacing-sm) var(--rag-spacing-md);\\n  font-family: inherit;\\n  font-size: var(--rag-font-size-base);\\n  line-height: 1.5;\\n  min-height: 2.5rem;\\n  max-height: 8rem;\\n  transition: border-color 0.2s ease;\\n}\\n\\n.rag-input-form__textarea:focus {\\n  outline: none;\\n  border-color: var(--rag-primary-color);\\n  box-shadow: 0 0 0 3px rgb(37 99 235 / 0.1);\\n}\\n\\n.rag-input-form__textarea:disabled {\\n  background: var(--rag-surface-color);\\n  cursor: not-allowed;\\n}\\n\\n.rag-input-form__button {\\n  padding: var(--rag-spacing-sm) var(--rag-spacing-md);\\n  background: var(--rag-primary-color);\\n  color: white;\\n  border: none;\\n  border-radius: var(--rag-border-radius);\\n  cursor: pointer;\\n  font-weight: 500;\\n  transition: background-color 0.2s ease;\\n  min-width: 4rem;\\n}\\n\\n.rag-input-form__button:hover:not(:disabled) {\\n  background: #1d4ed8;\\n}\\n\\n.rag-input-form__button:disabled {\\n  background: var(--rag-text-muted);\\n  cursor: not-allowed;\\n}\\n\\n/* Citation Panel */\\n.rag-citation-panel {\\n  border-top: 1px solid var(--rag-border-color);\\n  background: var(--rag-surface-color);\\n  max-height: 200px;\\n  overflow-y: auto;\\n}\\n\\n.rag-citation-panel__header {\\n  padding: var(--rag-spacing-sm) var(--rag-spacing-md);\\n  font-weight: 600;\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-secondary);\\n  border-bottom: 1px solid var(--rag-border-color);\\n  background: var(--rag-background-color);\\n}\\n\\n.rag-citation-panel__list {\\n  padding: var(--rag-spacing-sm);\\n}\\n\\n.rag-citation {\\n  display: flex;\\n  flex-direction: column;\\n  padding: var(--rag-spacing-sm);\\n  margin-bottom: var(--rag-spacing-sm);\\n  background: var(--rag-background-color);\\n  border: 1px solid var(--rag-border-color);\\n  border-radius: var(--rag-border-radius-sm);\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n}\\n\\n.rag-citation:hover {\\n  border-color: var(--rag-primary-color);\\n  box-shadow: var(--rag-shadow-sm);\\n}\\n\\n.rag-citation__title {\\n  font-weight: 600;\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-primary);\\n  margin-bottom: var(--rag-spacing-xs);\\n}\\n\\n.rag-citation__snippet {\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-secondary);\\n  line-height: 1.4;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n}\\n\\n.rag-citation__meta {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-top: var(--rag-spacing-xs);\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-muted);\\n}\\n\\n/* Loading and Error States */\\n.rag-loading {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: var(--rag-spacing-lg);\\n  color: var(--rag-text-secondary);\\n}\\n\\n.rag-error {\\n  padding: var(--rag-spacing-md);\\n  background: #fef2f2;\\n  border: 1px solid #fecaca;\\n  border-radius: var(--rag-border-radius);\\n  color: var(--rag-error-color);\\n  margin: var(--rag-spacing-sm);\\n}\\n\\n.rag-empty-state {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  padding: var(--rag-spacing-xl);\\n  text-align: center;\\n  color: var(--rag-text-secondary);\\n}\\n\\n.rag-empty-state__icon {\\n  font-size: 3rem;\\n  margin-bottom: var(--rag-spacing-md);\\n  opacity: 0.5;\\n}\\n\\n.rag-empty-state__title {\\n  font-size: var(--rag-font-size-lg);\\n  font-weight: 600;\\n  margin-bottom: var(--rag-spacing-sm);\\n}\\n\\n.rag-empty-state__message {\\n  max-width: 300px;\\n}\\n\\n/* Utility Classes */\\n.rag-visually-hidden {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  white-space: nowrap;\\n  border: 0;\\n}\\n\\n.rag-spinner {\\n  display: inline-block;\\n  width: 1rem;\\n  height: 1rem;\\n  border: 2px solid currentColor;\\n  border-radius: 50%;\\n  border-top-color: transparent;\\n  animation: rag-spin 1s linear infinite;\\n}\\n\\n@keyframes rag-spin {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n/* Responsive Design */\\n@media (max-width: 640px) {\\n  .rag-chat-interface {\\n    height: 100vh;\\n    max-height: 100vh;\\n    border-radius: 0;\\n  }\\n  \\n  .rag-message__content {\\n    max-width: 90%;\\n  }\\n  \\n  .rag-input-form {\\n    padding: var(--rag-spacing-sm);\\n  }\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles/components.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/* RAG Chat Components Styles */\\n\\n:root {\\n  --rag-primary-color: #2563eb;\\n  --rag-secondary-color: #64748b;\\n  --rag-background-color: #ffffff;\\n  --rag-surface-color: #f8fafc;\\n  --rag-border-color: #e2e8f0;\\n  --rag-text-primary: #1e293b;\\n  --rag-text-secondary: #64748b;\\n  --rag-text-muted: #94a3b8;\\n  --rag-error-color: #dc2626;\\n  --rag-success-color: #059669;\\n  --rag-warning-color: #d97706;\\n  \\n  --rag-border-radius: 0.5rem;\\n  --rag-border-radius-sm: 0.25rem;\\n  --rag-spacing-xs: 0.25rem;\\n  --rag-spacing-sm: 0.5rem;\\n  --rag-spacing-md: 1rem;\\n  --rag-spacing-lg: 1.5rem;\\n  --rag-spacing-xl: 2rem;\\n  \\n  --rag-font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;\\n  --rag-font-size-sm: 0.875rem;\\n  --rag-font-size-base: 1rem;\\n  --rag-font-size-lg: 1.125rem;\\n  \\n  --rag-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);\\n  --rag-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\\n  --rag-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\\n}\\n\\n/* Base component styles */\\n.rag-component {\\n  font-family: var(--rag-font-family);\\n  font-size: var(--rag-font-size-base);\\n  line-height: 1.5;\\n  color: var(--rag-text-primary);\\n  box-sizing: border-box;\\n}\\n\\n.rag-component *,\\n.rag-component *::before,\\n.rag-component *::after {\\n  box-sizing: inherit;\\n}\\n\\n/* Chat Interface */\\n.rag-chat-interface {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  max-height: 600px;\\n  background: var(--rag-background-color);\\n  border: 1px solid var(--rag-border-color);\\n  border-radius: var(--rag-border-radius);\\n  overflow: hidden;\\n  box-shadow: var(--rag-shadow-lg);\\n}\\n\\n/* Message List */\\n.rag-message-list {\\n  flex: 1;\\n  padding: var(--rag-spacing-md);\\n  overflow-y: auto;\\n  background: var(--rag-surface-color);\\n}\\n\\n.rag-message {\\n  margin-bottom: var(--rag-spacing-md);\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.rag-message--user {\\n  align-items: flex-end;\\n}\\n\\n.rag-message--assistant {\\n  align-items: flex-start;\\n}\\n\\n.rag-message__content {\\n  max-width: 80%;\\n  padding: var(--rag-spacing-sm) var(--rag-spacing-md);\\n  border-radius: var(--rag-border-radius);\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n}\\n\\n.rag-message--user .rag-message__content {\\n  background: var(--rag-primary-color);\\n  color: white;\\n  border-bottom-right-radius: var(--rag-border-radius-sm);\\n}\\n\\n.rag-message--assistant .rag-message__content {\\n  background: var(--rag-background-color);\\n  border: 1px solid var(--rag-border-color);\\n  border-bottom-left-radius: var(--rag-border-radius-sm);\\n}\\n\\n.rag-message__timestamp {\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-muted);\\n  margin-top: var(--rag-spacing-xs);\\n  padding: 0 var(--rag-spacing-sm);\\n}\\n\\n.rag-message__status {\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-secondary);\\n  margin-top: var(--rag-spacing-xs);\\n  padding: 0 var(--rag-spacing-sm);\\n  font-style: italic;\\n}\\n\\n.rag-message--streaming .rag-message__content::after {\\n  content: \\\"â–‹\\\";\\n  animation: rag-cursor-blink 1s infinite;\\n}\\n\\n@keyframes rag-cursor-blink {\\n  0%, 50% { opacity: 1; }\\n  51%, 100% { opacity: 0; }\\n}\\n\\n/* Input Form */\\n.rag-input-form {\\n  display: flex;\\n  padding: var(--rag-spacing-md);\\n  border-top: 1px solid var(--rag-border-color);\\n  background: var(--rag-background-color);\\n  gap: var(--rag-spacing-sm);\\n}\\n\\n.rag-input-form__textarea {\\n  flex: 1;\\n  resize: none;\\n  border: 1px solid var(--rag-border-color);\\n  border-radius: var(--rag-border-radius);\\n  padding: var(--rag-spacing-sm) var(--rag-spacing-md);\\n  font-family: inherit;\\n  font-size: var(--rag-font-size-base);\\n  line-height: 1.5;\\n  min-height: 2.5rem;\\n  max-height: 8rem;\\n  transition: border-color 0.2s ease;\\n}\\n\\n.rag-input-form__textarea:focus {\\n  outline: none;\\n  border-color: var(--rag-primary-color);\\n  box-shadow: 0 0 0 3px rgb(37 99 235 / 0.1);\\n}\\n\\n.rag-input-form__textarea:disabled {\\n  background: var(--rag-surface-color);\\n  cursor: not-allowed;\\n}\\n\\n.rag-input-form__button {\\n  padding: var(--rag-spacing-sm) var(--rag-spacing-md);\\n  background: var(--rag-primary-color);\\n  color: white;\\n  border: none;\\n  border-radius: var(--rag-border-radius);\\n  cursor: pointer;\\n  font-weight: 500;\\n  transition: background-color 0.2s ease;\\n  min-width: 4rem;\\n}\\n\\n.rag-input-form__button:hover:not(:disabled) {\\n  background: #1d4ed8;\\n}\\n\\n.rag-input-form__button:disabled {\\n  background: var(--rag-text-muted);\\n  cursor: not-allowed;\\n}\\n\\n/* Citation Panel */\\n.rag-citation-panel {\\n  border-top: 1px solid var(--rag-border-color);\\n  background: var(--rag-surface-color);\\n  max-height: 200px;\\n  overflow-y: auto;\\n}\\n\\n.rag-citation-panel__header {\\n  padding: var(--rag-spacing-sm) var(--rag-spacing-md);\\n  font-weight: 600;\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-secondary);\\n  border-bottom: 1px solid var(--rag-border-color);\\n  background: var(--rag-background-color);\\n}\\n\\n.rag-citation-panel__list {\\n  padding: var(--rag-spacing-sm);\\n}\\n\\n.rag-citation {\\n  display: flex;\\n  flex-direction: column;\\n  padding: var(--rag-spacing-sm);\\n  margin-bottom: var(--rag-spacing-sm);\\n  background: var(--rag-background-color);\\n  border: 1px solid var(--rag-border-color);\\n  border-radius: var(--rag-border-radius-sm);\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n}\\n\\n.rag-citation:hover {\\n  border-color: var(--rag-primary-color);\\n  box-shadow: var(--rag-shadow-sm);\\n}\\n\\n.rag-citation__title {\\n  font-weight: 600;\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-primary);\\n  margin-bottom: var(--rag-spacing-xs);\\n}\\n\\n.rag-citation__snippet {\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-secondary);\\n  line-height: 1.4;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n}\\n\\n.rag-citation__meta {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-top: var(--rag-spacing-xs);\\n  font-size: var(--rag-font-size-sm);\\n  color: var(--rag-text-muted);\\n}\\n\\n/* Loading and Error States */\\n.rag-loading {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: var(--rag-spacing-lg);\\n  color: var(--rag-text-secondary);\\n}\\n\\n.rag-error {\\n  padding: var(--rag-spacing-md);\\n  background: #fef2f2;\\n  border: 1px solid #fecaca;\\n  border-radius: var(--rag-border-radius);\\n  color: var(--rag-error-color);\\n  margin: var(--rag-spacing-sm);\\n}\\n\\n.rag-empty-state {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  padding: var(--rag-spacing-xl);\\n  text-align: center;\\n  color: var(--rag-text-secondary);\\n}\\n\\n.rag-empty-state__icon {\\n  font-size: 3rem;\\n  margin-bottom: var(--rag-spacing-md);\\n  opacity: 0.5;\\n}\\n\\n.rag-empty-state__title {\\n  font-size: var(--rag-font-size-lg);\\n  font-weight: 600;\\n  margin-bottom: var(--rag-spacing-sm);\\n}\\n\\n.rag-empty-state__message {\\n  max-width: 300px;\\n}\\n\\n/* Utility Classes */\\n.rag-visually-hidden {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  white-space: nowrap;\\n  border: 0;\\n}\\n\\n.rag-spinner {\\n  display: inline-block;\\n  width: 1rem;\\n  height: 1rem;\\n  border: 2px solid currentColor;\\n  border-radius: 50%;\\n  border-top-color: transparent;\\n  animation: rag-spin 1s linear infinite;\\n}\\n\\n@keyframes rag-spin {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n/* Responsive Design */\\n@media (max-width: 640px) {\\n  .rag-chat-interface {\\n    height: 100vh;\\n    max-height: 100vh;\\n    border-radius: 0;\\n  }\\n  \\n  .rag-message__content {\\n    max-width: 90%;\\n  }\\n  \\n  .rag-input-form {\\n    padding: var(--rag-spacing-sm);\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./components.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./components.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * DOM utility functions for Web Components\n */\nexport function createElement(tagName, attributes = {}, ...children) {\n    const element = document.createElement(tagName);\n    Object.entries(attributes).forEach(([key, value]) => {\n        if (key === 'className') {\n            element.className = value;\n        }\n        else {\n            element.setAttribute(key, value);\n        }\n    });\n    children.forEach(child => {\n        if (typeof child === 'string') {\n            element.appendChild(document.createTextNode(child));\n        }\n        else {\n            element.appendChild(child);\n        }\n    });\n    return element;\n}\nexport function createElementFromHTML(html) {\n    const template = document.createElement('template');\n    template.innerHTML = html.trim();\n    return template.content;\n}\nexport function generateId(prefix = 'id') {\n    return `${prefix}-${Math.random().toString(36).substr(2, 9)}`;\n}\nexport function debounce(func, wait) {\n    let timeout;\n    return (...args) => {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => func.apply(null, args), wait);\n    };\n}\nexport function throttle(func, limit) {\n    let inThrottle;\n    return (...args) => {\n        if (!inThrottle) {\n            func.apply(null, args);\n            inThrottle = true;\n            setTimeout(() => inThrottle = false, limit);\n        }\n    };\n}\nexport function escapeHtml(text) {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n}\nexport function formatTimestamp(date) {\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const seconds = Math.floor(diff / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const hours = Math.floor(minutes / 60);\n    const days = Math.floor(hours / 24);\n    if (days > 0) {\n        return date.toLocaleDateString();\n    }\n    else if (hours > 0) {\n        return `${hours}h ago`;\n    }\n    else if (minutes > 0) {\n        return `${minutes}m ago`;\n    }\n    else {\n        return 'Just now';\n    }\n}\n","/**\n * Global state manager for the RAG chat application\n */\nexport class StateManager {\n    constructor() {\n        this.currentSession = null;\n        this.listeners = new Map();\n        // Connection state\n        this.connectionState = 'disconnected';\n        this.initializeSession();\n    }\n    static getInstance() {\n        if (!StateManager.instance) {\n            StateManager.instance = new StateManager();\n        }\n        return StateManager.instance;\n    }\n    initializeSession() {\n        this.currentSession = {\n            id: this.generateSessionId(),\n            messages: [],\n            created_at: new Date(),\n            updated_at: new Date()\n        };\n    }\n    generateSessionId() {\n        return 'session_' + Date.now().toString(36) + Math.random().toString(36).substr(2);\n    }\n    // Session management\n    getCurrentSession() {\n        return this.currentSession;\n    }\n    createNewSession() {\n        this.currentSession = {\n            id: this.generateSessionId(),\n            messages: [],\n            created_at: new Date(),\n            updated_at: new Date()\n        };\n        this.emit('sessionCreated', this.currentSession);\n        return this.currentSession;\n    }\n    // Message management\n    addMessage(message) {\n        if (!this.currentSession) {\n            this.initializeSession();\n        }\n        const fullMessage = {\n            ...message,\n            id: this.generateMessageId(),\n            timestamp: new Date()\n        };\n        this.currentSession.messages.push(fullMessage);\n        this.currentSession.updated_at = new Date();\n        this.emit('messageAdded', fullMessage);\n        return fullMessage;\n    }\n    updateMessage(messageId, updates) {\n        if (!this.currentSession)\n            return null;\n        const messageIndex = this.currentSession.messages.findIndex(m => m.id === messageId);\n        if (messageIndex === -1)\n            return null;\n        const updatedMessage = {\n            ...this.currentSession.messages[messageIndex],\n            ...updates\n        };\n        this.currentSession.messages[messageIndex] = updatedMessage;\n        this.emit('messageUpdated', updatedMessage);\n        return updatedMessage;\n    }\n    getMessages() {\n        return this.currentSession?.messages || [];\n    }\n    getLastMessage() {\n        const messages = this.getMessages();\n        return messages.length > 0 ? messages[messages.length - 1] : null;\n    }\n    generateMessageId() {\n        return 'msg_' + Date.now().toString(36) + Math.random().toString(36).substr(2);\n    }\n    // Citation management\n    addCitationsToMessage(messageId, citations) {\n        const message = this.updateMessage(messageId, { citations });\n        if (message) {\n            this.emit('citationsAdded', { messageId, citations });\n        }\n    }\n    getAllCitations() {\n        const messages = this.getMessages();\n        return messages\n            .filter(message => message.citations)\n            .flatMap(message => message.citations)\n            .filter((citation, index, arr) => arr.findIndex(c => c.id === citation.id) === index); // Remove duplicates\n    }\n    // Event system\n    on(event, listener) {\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, new Set());\n        }\n        this.listeners.get(event).add(listener);\n    }\n    off(event, listener) {\n        const eventListeners = this.listeners.get(event);\n        if (eventListeners) {\n            eventListeners.delete(listener);\n            if (eventListeners.size === 0) {\n                this.listeners.delete(event);\n            }\n        }\n    }\n    emit(event, data) {\n        const eventListeners = this.listeners.get(event);\n        if (eventListeners) {\n            eventListeners.forEach(listener => {\n                try {\n                    listener(data);\n                }\n                catch (error) {\n                    console.error(`Error in event listener for ${event}:`, error);\n                }\n            });\n        }\n    }\n    setConnectionState(state) {\n        if (this.connectionState !== state) {\n            this.connectionState = state;\n            this.emit('connectionStateChanged', state);\n        }\n    }\n    getConnectionState() {\n        return this.connectionState;\n    }\n    // Utility methods\n    clearSession() {\n        if (this.currentSession) {\n            this.currentSession.messages = [];\n            this.emit('sessionCleared', this.currentSession);\n        }\n    }\n    exportSession() {\n        return JSON.stringify(this.currentSession, null, 2);\n    }\n    importSession(sessionData) {\n        try {\n            const session = JSON.parse(sessionData);\n            // Basic validation\n            if (session && session.id && Array.isArray(session.messages)) {\n                this.currentSession = {\n                    ...session,\n                    created_at: new Date(session.created_at),\n                    updated_at: new Date(session.updated_at)\n                };\n                this.emit('sessionImported', this.currentSession);\n                return true;\n            }\n        }\n        catch (error) {\n            console.error('Failed to import session:', error);\n        }\n        return false;\n    }\n}\n","import { StateManager } from './state-manager';\n/**\n * WebSocket client for real-time communication with the RAG backend\n */\nexport class WebSocketClient {\n    constructor(config) {\n        this.ws = null;\n        this.reconnectTimer = null;\n        this.pingTimer = null;\n        this.reconnectAttempts = 0;\n        this.isIntentionallyClosed = false;\n        this.listeners = new Map();\n        this.config = {\n            url: config.url,\n            reconnectAttempts: config.reconnectAttempts || 0,\n            maxReconnectAttempts: config.maxReconnectAttempts || 5,\n            reconnectInterval: config.reconnectInterval || 3000,\n            reconnectDelay: config.reconnectDelay || 1000,\n            pingInterval: config.pingInterval || 30000,\n            heartbeatInterval: config.heartbeatInterval || 25000\n        };\n        this.stateManager = StateManager.getInstance();\n    }\n    connect() {\n        return new Promise((resolve, reject) => {\n            try {\n                this.isIntentionallyClosed = false;\n                this.stateManager.setConnectionState('connecting');\n                this.ws = new WebSocket(this.config.url);\n                this.ws.onopen = () => {\n                    console.log('WebSocket connected');\n                    this.stateManager.setConnectionState('connected');\n                    this.reconnectAttempts = 0;\n                    this.startPing();\n                    this.emit('connected', null);\n                    resolve();\n                };\n                this.ws.onmessage = (event) => {\n                    this.handleMessage(event.data);\n                };\n                this.ws.onclose = (event) => {\n                    console.log('WebSocket closed:', event.code, event.reason);\n                    this.stateManager.setConnectionState('disconnected');\n                    this.cleanup();\n                    this.emit('disconnected', { code: event.code, reason: event.reason });\n                    if (!this.isIntentionallyClosed) {\n                        this.scheduleReconnect();\n                    }\n                };\n                this.ws.onerror = (error) => {\n                    console.error('WebSocket error:', error);\n                    this.emit('error', error);\n                    reject(error);\n                };\n            }\n            catch (error) {\n                console.error('Failed to create WebSocket connection:', error);\n                this.stateManager.setConnectionState('disconnected');\n                reject(error);\n            }\n        });\n    }\n    disconnect() {\n        this.isIntentionallyClosed = true;\n        this.cleanup();\n        if (this.ws) {\n            if (this.ws.readyState === WebSocket.OPEN) {\n                this.ws.close(1000, 'Client disconnect');\n            }\n            this.ws = null;\n        }\n        this.stateManager.setConnectionState('disconnected');\n    }\n    sendMessage(type, data) {\n        if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {\n            console.warn('WebSocket not connected. Cannot send message.');\n            return false;\n        }\n        try {\n            const message = {\n                type: type, // Cast to match enum type\n                data\n            };\n            this.ws.send(JSON.stringify(message));\n            return true;\n        }\n        catch (error) {\n            console.error('Failed to send WebSocket message:', error);\n            return false;\n        }\n    }\n    sendChatMessage(message, sessionId) {\n        return this.sendMessage('chat_message', {\n            message,\n            sessionId: sessionId || this.stateManager.getCurrentSession()?.id,\n            timestamp: Date.now()\n        });\n    }\n    handleMessage(rawData) {\n        try {\n            const message = JSON.parse(rawData);\n            switch (message.type) {\n                case 'connection_status':\n                    // Handle ping/pong for connection health\n                    break;\n                case 'session_start':\n                    // Handle session initialization\n                    console.log('Session started:', message.data);\n                    break;\n                case 'typing_start':\n                    this.handleMessageStart(message.data);\n                    break;\n                case 'message_delta':\n                    this.handleMessageChunk(message.data);\n                    break;\n                case 'message_complete':\n                    this.handleMessageComplete(message.data);\n                    break;\n                case 'citations':\n                    this.handleCitations(message.data);\n                    break;\n                case 'error':\n                    this.handleError(message.data);\n                    break;\n                default:\n                    console.warn('Unknown message type:', message.type);\n            }\n            this.emit('message', message);\n        }\n        catch (error) {\n            console.error('Failed to parse WebSocket message:', error);\n        }\n    }\n    handleMessageStart(data) {\n        const message = this.stateManager.addMessage({\n            content: '',\n            role: 'assistant',\n            status: 'streaming',\n            isStreaming: true\n        });\n        this.emit('messageStart', { messageId: message.id, ...data });\n    }\n    handleMessageChunk(data) {\n        const lastMessage = this.stateManager.getLastMessage();\n        if (lastMessage && lastMessage.role === 'assistant' && lastMessage.isStreaming) {\n            const updatedContent = (lastMessage.content || '') + (data.content || '');\n            this.stateManager.updateMessage(lastMessage.id, {\n                content: updatedContent,\n                isStreaming: true\n            });\n            this.emit('messageChunk', { messageId: lastMessage.id, chunk: data.content });\n        }\n    }\n    handleMessageComplete(data) {\n        const lastMessage = this.stateManager.getLastMessage();\n        if (lastMessage && lastMessage.role === 'assistant') {\n            this.stateManager.updateMessage(lastMessage.id, {\n                isStreaming: false,\n                ...(data.content && { content: data.content })\n            });\n            this.emit('messageComplete', { messageId: lastMessage.id, ...data });\n        }\n    }\n    handleCitations(data) {\n        const { messageId, citations } = data;\n        if (messageId && citations) {\n            this.stateManager.addCitationsToMessage(messageId, citations);\n            this.emit('citations', data);\n        }\n    }\n    handleError(data) {\n        console.error('WebSocket error from server:', data);\n        this.emit('serverError', data);\n    }\n    scheduleReconnect() {\n        if (this.reconnectAttempts >= this.config.maxReconnectAttempts) {\n            console.error('Max reconnection attempts reached. Giving up.');\n            this.emit('maxReconnectAttemptsReached', null);\n            return;\n        }\n        this.reconnectAttempts++;\n        console.log(`Scheduling reconnect attempt ${this.reconnectAttempts}/${this.config.maxReconnectAttempts} in ${this.config.reconnectInterval}ms`);\n        this.reconnectTimer = setTimeout(() => {\n            if (!this.isIntentionallyClosed) {\n                console.log(`Reconnect attempt ${this.reconnectAttempts}`);\n                this.connect().catch(error => {\n                    console.error('Reconnection failed:', error);\n                });\n            }\n        }, this.config.reconnectInterval);\n    }\n    startPing() {\n        this.pingTimer = setInterval(() => {\n            if (this.ws?.readyState === WebSocket.OPEN) {\n                this.sendMessage('ping', null);\n            }\n        }, this.config.pingInterval);\n    }\n    cleanup() {\n        if (this.reconnectTimer) {\n            clearTimeout(this.reconnectTimer);\n            this.reconnectTimer = null;\n        }\n        if (this.pingTimer) {\n            clearInterval(this.pingTimer);\n            this.pingTimer = null;\n        }\n    }\n    // Event system\n    on(event, listener) {\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, new Set());\n        }\n        this.listeners.get(event).add(listener);\n    }\n    off(event, listener) {\n        const eventListeners = this.listeners.get(event);\n        if (eventListeners) {\n            eventListeners.delete(listener);\n            if (eventListeners.size === 0) {\n                this.listeners.delete(event);\n            }\n        }\n    }\n    emit(event, data) {\n        const eventListeners = this.listeners.get(event);\n        if (eventListeners) {\n            eventListeners.forEach(listener => {\n                try {\n                    listener(data);\n                }\n                catch (error) {\n                    console.error(`Error in WebSocket event listener for ${event}:`, error);\n                }\n            });\n        }\n    }\n    isConnected() {\n        return this.ws?.readyState === WebSocket.OPEN;\n    }\n    getConnectionState() {\n        return this.ws?.readyState;\n    }\n}\n","import '../styles/components.css';\nimport { generateId } from '../utils/dom-helpers';\nimport { WebSocketClient } from '../services/websocket-client';\nexport class RAGChatInterface extends HTMLElement {\n    constructor() {\n        super();\n        this.messages = [];\n        this._isConnected = false;\n        this._shadowRoot = this.attachShadow({ mode: 'open' });\n        this.sessionId = generateId('session');\n        // Initialize WebSocket client\n        this.wsClient = new WebSocketClient({\n            url: `ws://localhost:8000/ws/${this.sessionId}`\n        });\n        this.setupComponent();\n        this.setupWebSocketListeners();\n    }\n    connectedCallback() {\n        this.render();\n        this.setupEventListeners();\n        // Connect to WebSocket\n        this.connectWebSocket();\n        // Auto-focus input when connected\n        setTimeout(() => {\n            const input = this._shadowRoot.querySelector('rag-input-form');\n            if (input) {\n                input.focus();\n            }\n        }, 100);\n    }\n    disconnectedCallback() {\n        this.cleanup();\n        // Disconnect WebSocket\n        if (this.wsClient) {\n            this.wsClient.disconnect();\n        }\n    }\n    setupComponent() {\n        // Add CSS\n        const style = document.createElement('style');\n        style.textContent = `\n      :host {\n        display: block;\n        width: 100%;\n        height: 100%;\n        font-family: var(--rag-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif);\n      }\n      \n      .chat-container {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        background: var(--rag-background-color, #ffffff);\n        border: 1px solid var(--rag-border-color, #e2e8f0);\n        border-radius: var(--rag-border-radius, 0.5rem);\n        overflow: hidden;\n        box-shadow: var(--rag-shadow-lg, 0 10px 15px -3px rgb(0 0 0 / 0.1));\n      }\n      \n      .chat-header {\n        padding: 1rem;\n        border-bottom: 1px solid var(--rag-border-color, #e2e8f0);\n        background: var(--rag-surface-color, #f8fafc);\n      }\n      \n      .chat-title {\n        margin: 0;\n        font-size: 1.125rem;\n        font-weight: 600;\n        color: var(--rag-text-primary, #1e293b);\n      }\n      \n      .chat-status {\n        font-size: 0.875rem;\n        color: var(--rag-text-secondary, #64748b);\n        margin-top: 0.25rem;\n      }\n      \n      .connection-indicator {\n        display: inline-block;\n        width: 8px;\n        height: 8px;\n        border-radius: 50%;\n        margin-right: 0.5rem;\n      }\n      \n      .connection-indicator--connected {\n        background-color: var(--rag-success-color, #059669);\n      }\n      \n      .connection-indicator--disconnected {\n        background-color: var(--rag-error-color, #dc2626);\n      }\n      \n      .connection-indicator--connecting {\n        background-color: var(--rag-warning-color, #d97706);\n        animation: pulse 1.5s ease-in-out infinite;\n      }\n      \n      @keyframes pulse {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.5; }\n      }\n    `;\n        this._shadowRoot.appendChild(style);\n    }\n    render() {\n        const container = document.createElement('div');\n        container.className = 'chat-container';\n        // Header\n        const header = document.createElement('div');\n        header.className = 'chat-header';\n        header.innerHTML = `\n      <h2 class=\"chat-title\">RAG Chat Assistant</h2>\n      <div class=\"chat-status\">\n        <span class=\"connection-indicator connection-indicator--disconnected\"></span>\n        <span class=\"status-text\">Disconnected</span>\n      </div>\n    `;\n        // Message List\n        const messageList = document.createElement('rag-message-list');\n        messageList.setAttribute('session-id', this.sessionId);\n        this.messageList = messageList;\n        // Citation Panel (initially hidden)\n        const citationPanel = document.createElement('rag-citation-panel');\n        citationPanel.style.display = 'none';\n        this.citationPanel = citationPanel;\n        // Input Form\n        const inputForm = document.createElement('rag-input-form');\n        inputForm.setAttribute('session-id', this.sessionId);\n        this.inputForm = inputForm;\n        container.appendChild(header);\n        container.appendChild(messageList);\n        container.appendChild(citationPanel);\n        container.appendChild(inputForm);\n        this._shadowRoot.appendChild(container);\n    }\n    setupEventListeners() {\n        // Listen for message events from input form\n        this.addEventListener('rag-message-send', this.handleMessageSend.bind(this));\n        // Listen for citation events from message list\n        this.addEventListener('rag-citations-received', this.handleCitationsReceived.bind(this));\n        // Listen for WebSocket connection events\n        this.addEventListener('rag-connection-status', this.handleConnectionStatus.bind(this));\n    }\n    handleMessageSend(event) {\n        const { message } = event.detail;\n        // Add user message immediately\n        const userMessage = {\n            id: generateId('msg'),\n            role: 'user',\n            content: message,\n            timestamp: new Date(),\n            status: 'sent'\n        };\n        this.addMessage(userMessage);\n        // Create placeholder for assistant response\n        const assistantMessage = {\n            id: generateId('msg'),\n            role: 'assistant',\n            content: '',\n            timestamp: new Date(),\n            status: 'streaming'\n        };\n        this.addMessage(assistantMessage);\n        // Send to backend (will be implemented in Phase 2)\n        this.sendToBackend(message, assistantMessage.id);\n    }\n    handleCitationsReceived(event) {\n        const { citations } = event.detail;\n        if (citations && citations.length > 0) {\n            // Show citation panel\n            if (this.citationPanel) {\n                this.citationPanel.style.display = 'block';\n                this.citationPanel.setCitations(citations);\n            }\n        }\n    }\n    handleConnectionStatus(event) {\n        const { status } = event.detail;\n        this.updateConnectionStatus(status);\n    }\n    addMessage(message) {\n        this.messages.push(message);\n        if (this.messageList) {\n            this.messageList.addMessage(message);\n        }\n    }\n    updateConnectionStatus(status) {\n        this._isConnected = status === 'connected';\n        const indicator = this._shadowRoot.querySelector('.connection-indicator');\n        const statusText = this._shadowRoot.querySelector('.status-text');\n        if (indicator && statusText) {\n            indicator.className = `connection-indicator connection-indicator--${status}`;\n            statusText.textContent = status.charAt(0).toUpperCase() + status.slice(1);\n        }\n        // Enable/disable input based on connection\n        if (this.inputForm) {\n            this.inputForm.setEnabled(this._isConnected);\n        }\n    }\n    sendToBackend(message, messageId) {\n        // Send message via WebSocket\n        if (this.wsClient && this.wsClient.isConnected()) {\n            this.wsClient.sendChatMessage(message, this.sessionId);\n        }\n        else {\n            console.error('WebSocket not connected, cannot send message');\n            // Update message with error state\n            const message = this.messages.find(m => m.id === messageId);\n            if (message) {\n                message.content = 'Error: Not connected to backend. Please check your connection.';\n                message.status = 'error';\n                if (this.messageList) {\n                    this.messageList.updateMessage(message);\n                }\n            }\n        }\n    }\n    setupWebSocketListeners() {\n        // Listen for WebSocket events\n        this.wsClient.on('connected', () => {\n            this.updateConnectionStatus('connected');\n        });\n        this.wsClient.on('disconnected', () => {\n            this.updateConnectionStatus('disconnected');\n        });\n        this.wsClient.on('messageChunk', (data) => {\n            // Handle streaming message updates\n            if (this.messageList) {\n                this.messageList.updateStreamingMessage(data.messageId, data.chunk);\n            }\n        });\n        this.wsClient.on('messageComplete', (data) => {\n            // Handle message completion\n            if (this.messageList) {\n                this.messageList.completeMessage(data.messageId);\n            }\n        });\n        this.wsClient.on('citations', (data) => {\n            // Handle citations\n            this.handleCitationsReceived(new CustomEvent('rag-citations-received', {\n                detail: { citations: data.citations }\n            }));\n        });\n        this.wsClient.on('serverError', (data) => {\n            console.error('Server error:', data);\n            // Show error message to user\n            this.addMessage({\n                id: generateId('msg'),\n                role: 'assistant',\n                content: `Error: ${data.error || 'Something went wrong'}`,\n                timestamp: new Date(),\n                status: 'error'\n            });\n        });\n    }\n    async connectWebSocket() {\n        try {\n            this.updateConnectionStatus('connecting');\n            await this.wsClient.connect();\n        }\n        catch (error) {\n            console.error('Failed to connect to WebSocket:', error);\n            this.updateConnectionStatus('disconnected');\n        }\n    }\n    cleanup() {\n        // Clean up WebSocket connection\n        if (this.wsClient) {\n            this.wsClient.disconnect();\n        }\n    }\n    // Public API\n    getSessionId() {\n        return this.sessionId;\n    }\n    getMessages() {\n        return [...this.messages];\n    }\n    clearMessages() {\n        this.messages = [];\n        if (this.messageList) {\n            this.messageList.clearMessages();\n        }\n        if (this.citationPanel) {\n            this.citationPanel.style.display = 'none';\n        }\n    }\n}\n// Register the custom element\ncustomElements.define('rag-chat-interface', RAGChatInterface);\n","import { formatTimestamp, escapeHtml } from '../utils/dom-helpers';\nexport class RAGMessageList extends HTMLElement {\n    constructor() {\n        super();\n        this.messages = [];\n        this._shadowRoot = this.attachShadow({ mode: 'open' });\n        this.setupComponent();\n    }\n    connectedCallback() {\n        this.render();\n    }\n    setupComponent() {\n        const style = document.createElement('style');\n        style.textContent = `\n      :host {\n        display: block;\n        flex: 1;\n        overflow-y: auto;\n        background: var(--rag-surface-color, #f8fafc);\n      }\n      \n      .message-container {\n        padding: var(--rag-spacing-md, 1rem);\n        min-height: 100%;\n        display: flex;\n        flex-direction: column;\n      }\n      \n      .message {\n        margin-bottom: var(--rag-spacing-md, 1rem);\n        display: flex;\n        flex-direction: column;\n        opacity: 0;\n        transform: translateY(10px);\n        animation: messageSlideIn 0.3s ease-out forwards;\n      }\n      \n      @keyframes messageSlideIn {\n        to {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n      \n      .message--user {\n        align-items: flex-end;\n      }\n      \n      .message--assistant {\n        align-items: flex-start;\n      }\n      \n      .message__content {\n        max-width: 80%;\n        padding: var(--rag-spacing-sm, 0.5rem) var(--rag-spacing-md, 1rem);\n        border-radius: var(--rag-border-radius, 0.5rem);\n        word-wrap: break-word;\n        white-space: pre-wrap;\n        line-height: 1.5;\n        position: relative;\n      }\n      \n      .message--user .message__content {\n        background: var(--rag-primary-color, #2563eb);\n        color: white;\n        border-bottom-right-radius: var(--rag-border-radius-sm, 0.25rem);\n      }\n      \n      .message--assistant .message__content {\n        background: var(--rag-background-color, #ffffff);\n        border: 1px solid var(--rag-border-color, #e2e8f0);\n        color: var(--rag-text-primary, #1e293b);\n        border-bottom-left-radius: var(--rag-border-radius-sm, 0.25rem);\n      }\n      \n      .message__meta {\n        font-size: var(--rag-font-size-sm, 0.875rem);\n        color: var(--rag-text-muted, #94a3b8);\n        margin-top: var(--rag-spacing-xs, 0.25rem);\n        padding: 0 var(--rag-spacing-sm, 0.5rem);\n        display: flex;\n        align-items: center;\n        gap: var(--rag-spacing-sm, 0.5rem);\n      }\n      \n      .message__timestamp {\n        opacity: 0.7;\n      }\n      \n      .message__status {\n        font-style: italic;\n      }\n      \n      .message--streaming .message__content::after {\n        content: \"â–‹\";\n        animation: cursorBlink 1s infinite;\n        color: var(--rag-primary-color, #2563eb);\n      }\n      \n      .message--user.message--streaming .message__content::after {\n        color: rgba(255, 255, 255, 0.8);\n      }\n      \n      @keyframes cursorBlink {\n        0%, 50% { opacity: 1; }\n        51%, 100% { opacity: 0; }\n      }\n      \n      .message--error .message__content {\n        background: #fef2f2;\n        border-color: #fecaca;\n        color: var(--rag-error-color, #dc2626);\n      }\n      \n      .empty-state {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding: var(--rag-spacing-xl, 2rem);\n        text-align: center;\n        color: var(--rag-text-secondary, #64748b);\n        flex: 1;\n      }\n      \n      .empty-state__icon {\n        font-size: 3rem;\n        margin-bottom: var(--rag-spacing-md, 1rem);\n        opacity: 0.5;\n      }\n      \n      .empty-state__title {\n        font-size: var(--rag-font-size-lg, 1.125rem);\n        font-weight: 600;\n        margin-bottom: var(--rag-spacing-sm, 0.5rem);\n        color: var(--rag-text-primary, #1e293b);\n      }\n      \n      .empty-state__message {\n        max-width: 300px;\n        line-height: 1.5;\n      }\n      \n      .citation-indicators {\n        margin-top: var(--rag-spacing-xs, 0.25rem);\n        display: flex;\n        gap: var(--rag-spacing-xs, 0.25rem);\n        flex-wrap: wrap;\n      }\n      \n      .citation-indicator {\n        display: inline-flex;\n        align-items: center;\n        gap: 0.25rem;\n        padding: 0.125rem 0.375rem;\n        background: var(--rag-primary-color, #2563eb);\n        color: white;\n        border-radius: 0.75rem;\n        font-size: 0.75rem;\n        cursor: pointer;\n        transition: background-color 0.2s ease;\n      }\n      \n      .citation-indicator:hover {\n        background: #1d4ed8;\n      }\n      \n      .citation-count {\n        font-weight: 600;\n      }\n    `;\n        this._shadowRoot.appendChild(style);\n    }\n    render() {\n        this.messageContainer = document.createElement('div');\n        this.messageContainer.className = 'message-container';\n        this.renderMessages();\n        this._shadowRoot.appendChild(this.messageContainer);\n    }\n    renderMessages() {\n        if (this.messages.length === 0) {\n            this.renderEmptyState();\n            return;\n        }\n        this.messageContainer.innerHTML = '';\n        this.messages.forEach(message => {\n            const messageElement = this.createMessageElement(message);\n            this.messageContainer.appendChild(messageElement);\n        });\n        // Scroll to bottom\n        this.scrollToBottom();\n    }\n    renderEmptyState() {\n        this.messageContainer.innerHTML = `\n      <div class=\"empty-state\">\n        <div class=\"empty-state__icon\">ðŸ’¬</div>\n        <div class=\"empty-state__title\">Start a Conversation</div>\n        <div class=\"empty-state__message\">\n          Ask me anything about your documents. I'll search through your knowledge base and provide relevant answers with citations.\n        </div>\n      </div>\n    `;\n    }\n    createMessageElement(message) {\n        const messageEl = document.createElement('div');\n        messageEl.className = `message message--${message.role}`;\n        messageEl.setAttribute('data-message-id', message.id);\n        if (message.status) {\n            messageEl.classList.add(`message--${message.status}`);\n        }\n        const contentEl = document.createElement('div');\n        contentEl.className = 'message__content';\n        contentEl.innerHTML = this.formatMessageContent(message.content);\n        const metaEl = document.createElement('div');\n        metaEl.className = 'message__meta';\n        const timestampEl = document.createElement('span');\n        timestampEl.className = 'message__timestamp';\n        timestampEl.textContent = formatTimestamp(message.timestamp);\n        metaEl.appendChild(timestampEl);\n        // Add status if not completed\n        if (message.status && message.status !== 'completed' && message.status !== 'sent') {\n            const statusEl = document.createElement('span');\n            statusEl.className = 'message__status';\n            statusEl.textContent = this.getStatusText(message.status);\n            metaEl.appendChild(statusEl);\n        }\n        messageEl.appendChild(contentEl);\n        messageEl.appendChild(metaEl);\n        // Add citations if available\n        if (message.citations && message.citations.length > 0) {\n            const citationIndicators = this.createCitationIndicators(message.citations);\n            messageEl.appendChild(citationIndicators);\n        }\n        return messageEl;\n    }\n    formatMessageContent(content) {\n        // Basic HTML escaping and line break handling\n        let formatted = escapeHtml(content);\n        // Convert newlines to HTML breaks (but preserve pre-wrap behavior)\n        // This is mainly for display purposes\n        return formatted;\n    }\n    getStatusText(status) {\n        switch (status) {\n            case 'sending':\n                return 'Sending...';\n            case 'streaming':\n                return 'Typing...';\n            case 'error':\n                return 'Error';\n            default:\n                return '';\n        }\n    }\n    createCitationIndicators(citations) {\n        const container = document.createElement('div');\n        container.className = 'citation-indicators';\n        const indicator = document.createElement('button');\n        indicator.className = 'citation-indicator';\n        indicator.innerHTML = `\n      <span class=\"citation-count\">${citations.length}</span>\n      <span>source${citations.length > 1 ? 's' : ''}</span>\n    `;\n        indicator.addEventListener('click', () => {\n            // Emit event to show citations\n            const event = new CustomEvent('rag-citations-received', {\n                detail: { citations },\n                bubbles: true\n            });\n            this.dispatchEvent(event);\n        });\n        container.appendChild(indicator);\n        return container;\n    }\n    scrollToBottom() {\n        // Use requestAnimationFrame to ensure the DOM is updated\n        requestAnimationFrame(() => {\n            this.scrollTop = this.scrollHeight;\n        });\n    }\n    // Public API methods\n    addMessage(message) {\n        this.messages.push(message);\n        this.renderMessages();\n    }\n    updateMessage(updatedMessage) {\n        const index = this.messages.findIndex(m => m.id === updatedMessage.id);\n        if (index !== -1) {\n            this.messages[index] = updatedMessage;\n            // Update just this message element instead of re-rendering all\n            const messageElement = this._shadowRoot.querySelector(`[data-message-id=\"${updatedMessage.id}\"]`);\n            if (messageElement) {\n                const newElement = this.createMessageElement(updatedMessage);\n                messageElement.replaceWith(newElement);\n            }\n        }\n    }\n    clearMessages() {\n        this.messages = [];\n        this.renderMessages();\n    }\n    getMessages() {\n        return [...this.messages];\n    }\n    streamMessageUpdate(messageId, contentDelta) {\n        const message = this.messages.find(m => m.id === messageId);\n        if (message) {\n            message.content += contentDelta;\n            // Update the content element directly for smooth streaming\n            const messageElement = this._shadowRoot.querySelector(`[data-message-id=\"${messageId}\"] .message__content`);\n            if (messageElement) {\n                messageElement.innerHTML = this.formatMessageContent(message.content);\n            }\n            // Ensure we stay scrolled to bottom during streaming\n            this.scrollToBottom();\n        }\n    }\n}\n// Register the custom element\ncustomElements.define('rag-message-list', RAGMessageList);\n","import { debounce } from '../utils/dom-helpers';\nexport class RAGInputForm extends HTMLElement {\n    constructor() {\n        super();\n        this.isEnabled = true;\n        this.isSubmitting = false;\n        this._shadowRoot = this.attachShadow({ mode: 'open' });\n        this.setupComponent();\n    }\n    connectedCallback() {\n        this.render();\n        this.setupEventListeners();\n    }\n    setupComponent() {\n        const style = document.createElement('style');\n        style.textContent = `\n      :host {\n        display: block;\n        border-top: 1px solid var(--rag-border-color, #e2e8f0);\n        background: var(--rag-background-color, #ffffff);\n      }\n      \n      .input-form {\n        display: flex;\n        padding: var(--rag-spacing-md, 1rem);\n        gap: var(--rag-spacing-sm, 0.5rem);\n        align-items: flex-end;\n      }\n      \n      .input-wrapper {\n        flex: 1;\n        position: relative;\n      }\n      \n      .textarea {\n        width: 100%;\n        resize: none;\n        border: 1px solid var(--rag-border-color, #e2e8f0);\n        border-radius: var(--rag-border-radius, 0.5rem);\n        padding: var(--rag-spacing-sm, 0.5rem) var(--rag-spacing-md, 1rem);\n        font-family: inherit;\n        font-size: var(--rag-font-size-base, 1rem);\n        line-height: 1.5;\n        min-height: 2.5rem;\n        max-height: 8rem;\n        transition: all 0.2s ease;\n        outline: none;\n        background: var(--rag-background-color, #ffffff);\n        color: var(--rag-text-primary, #1e293b);\n      }\n      \n      .textarea:focus {\n        border-color: var(--rag-primary-color, #2563eb);\n        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n      }\n      \n      .textarea:disabled {\n        background: var(--rag-surface-color, #f8fafc);\n        color: var(--rag-text-muted, #94a3b8);\n        cursor: not-allowed;\n      }\n      \n      .textarea::placeholder {\n        color: var(--rag-text-muted, #94a3b8);\n      }\n      \n      .submit-button {\n        padding: var(--rag-spacing-sm, 0.5rem) var(--rag-spacing-md, 1rem);\n        background: var(--rag-primary-color, #2563eb);\n        color: white;\n        border: none;\n        border-radius: var(--rag-border-radius, 0.5rem);\n        cursor: pointer;\n        font-weight: 500;\n        transition: all 0.2s ease;\n        min-width: 4rem;\n        height: 2.5rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 0.5rem;\n        white-space: nowrap;\n      }\n      \n      .submit-button:hover:not(:disabled) {\n        background: #1d4ed8;\n        transform: translateY(-1px);\n      }\n      \n      .submit-button:active {\n        transform: translateY(0);\n      }\n      \n      .submit-button:disabled {\n        background: var(--rag-text-muted, #94a3b8);\n        cursor: not-allowed;\n        transform: none;\n      }\n      \n      .submit-button--loading {\n        pointer-events: none;\n      }\n      \n      .spinner {\n        width: 1rem;\n        height: 1rem;\n        border: 2px solid currentColor;\n        border-radius: 50%;\n        border-top-color: transparent;\n        animation: spin 1s linear infinite;\n      }\n      \n      @keyframes spin {\n        to {\n          transform: rotate(360deg);\n        }\n      }\n      \n      .char-counter {\n        position: absolute;\n        bottom: 0.5rem;\n        right: 0.75rem;\n        font-size: 0.75rem;\n        color: var(--rag-text-muted, #94a3b8);\n        background: var(--rag-background-color, #ffffff);\n        padding: 0 0.25rem;\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity 0.2s ease;\n      }\n      \n      .char-counter--visible {\n        opacity: 1;\n      }\n      \n      .char-counter--warning {\n        color: var(--rag-warning-color, #d97706);\n      }\n      \n      .char-counter--error {\n        color: var(--rag-error-color, #dc2626);\n      }\n      \n      .keyboard-hint {\n        font-size: 0.75rem;\n        color: var(--rag-text-muted, #94a3b8);\n        margin-top: 0.25rem;\n        text-align: center;\n        opacity: 0.7;\n      }\n      \n      @media (max-width: 640px) {\n        .input-form {\n          padding: var(--rag-spacing-sm, 0.5rem);\n        }\n        \n        .keyboard-hint {\n          display: none;\n        }\n      }\n    `;\n        this._shadowRoot.appendChild(style);\n    }\n    render() {\n        const container = document.createElement('div');\n        container.className = 'input-form';\n        // Input wrapper\n        const inputWrapper = document.createElement('div');\n        inputWrapper.className = 'input-wrapper';\n        // Textarea\n        this.textarea = document.createElement('textarea');\n        this.textarea.className = 'textarea';\n        this.textarea.placeholder = 'Ask me anything about your documents...';\n        this.textarea.rows = 1;\n        this.textarea.setAttribute('aria-label', 'Message input');\n        // Character counter\n        const charCounter = document.createElement('div');\n        charCounter.className = 'char-counter';\n        charCounter.setAttribute('aria-live', 'polite');\n        inputWrapper.appendChild(this.textarea);\n        inputWrapper.appendChild(charCounter);\n        // Submit button\n        this.submitButton = document.createElement('button');\n        this.submitButton.className = 'submit-button';\n        this.submitButton.type = 'submit';\n        this.submitButton.setAttribute('aria-label', 'Send message');\n        this.submitButton.innerHTML = `\n      <span class=\"button-text\">Send</span>\n    `;\n        container.appendChild(inputWrapper);\n        container.appendChild(this.submitButton);\n        // Keyboard hint\n        const keyboardHint = document.createElement('div');\n        keyboardHint.className = 'keyboard-hint';\n        keyboardHint.textContent = 'Press Enter to send, Shift+Enter for new line';\n        const wrapper = document.createElement('div');\n        wrapper.appendChild(container);\n        wrapper.appendChild(keyboardHint);\n        this._shadowRoot.appendChild(wrapper);\n    }\n    setupEventListeners() {\n        // Auto-resize textarea\n        this.textarea.addEventListener('input', () => {\n            this.autoResize();\n            this.updateCharCounter();\n        });\n        // Handle keyboard shortcuts\n        this.textarea.addEventListener('keydown', (e) => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                this.handleSubmit();\n            }\n            // Handle Escape to clear\n            if (e.key === 'Escape') {\n                this.textarea.value = '';\n                this.autoResize();\n                this.updateCharCounter();\n            }\n        });\n        // Submit button\n        this.submitButton.addEventListener('click', () => {\n            this.handleSubmit();\n        });\n        // Focus management\n        this.textarea.addEventListener('focus', () => {\n            this.showCharCounter();\n        });\n        this.textarea.addEventListener('blur', debounce(() => {\n            if (!this.textarea.value.trim()) {\n                this.hideCharCounter();\n            }\n        }, 1000));\n    }\n    autoResize() {\n        // Reset height to auto to get the correct scrollHeight\n        this.textarea.style.height = 'auto';\n        // Calculate the new height\n        const maxHeight = 8 * 1.5 * 16; // 8rem in pixels (approximate)\n        const newHeight = Math.min(this.textarea.scrollHeight, maxHeight);\n        this.textarea.style.height = `${newHeight}px`;\n    }\n    updateCharCounter() {\n        const charCounter = this._shadowRoot.querySelector('.char-counter');\n        const length = this.textarea.value.length;\n        const maxLength = 2000; // Reasonable limit for chat messages\n        charCounter.textContent = `${length}/${maxLength}`;\n        // Update styling based on length\n        charCounter.classList.remove('char-counter--warning', 'char-counter--error');\n        if (length > maxLength * 0.9) {\n            charCounter.classList.add('char-counter--error');\n        }\n        else if (length > maxLength * 0.8) {\n            charCounter.classList.add('char-counter--warning');\n        }\n        // Disable submit if over limit\n        this.submitButton.disabled = length > maxLength || length === 0 || !this.isEnabled || this.isSubmitting;\n    }\n    showCharCounter() {\n        const charCounter = this._shadowRoot.querySelector('.char-counter');\n        charCounter.classList.add('char-counter--visible');\n    }\n    hideCharCounter() {\n        const charCounter = this._shadowRoot.querySelector('.char-counter');\n        charCounter.classList.remove('char-counter--visible');\n    }\n    handleSubmit() {\n        const message = this.textarea.value.trim();\n        if (!message || !this.isEnabled || this.isSubmitting) {\n            return;\n        }\n        // Set loading state\n        this.setSubmitting(true);\n        // Emit the message event\n        const event = new CustomEvent('rag-message-send', {\n            detail: { message },\n            bubbles: true\n        });\n        this.dispatchEvent(event);\n        // Clear the input\n        this.textarea.value = '';\n        this.autoResize();\n        this.updateCharCounter();\n        this.hideCharCounter();\n        // Reset loading state after a delay\n        setTimeout(() => {\n            this.setSubmitting(false);\n        }, 500);\n    }\n    setSubmitting(submitting) {\n        this.isSubmitting = submitting;\n        if (submitting) {\n            this.submitButton.classList.add('submit-button--loading');\n            this.submitButton.innerHTML = `\n        <div class=\"spinner\"></div>\n        <span class=\"button-text\">Sending...</span>\n      `;\n        }\n        else {\n            this.submitButton.classList.remove('submit-button--loading');\n            this.submitButton.innerHTML = `\n        <span class=\"button-text\">Send</span>\n      `;\n        }\n        this.updateButtonState();\n    }\n    updateButtonState() {\n        const hasText = this.textarea.value.trim().length > 0;\n        const isOverLimit = this.textarea.value.length > 2000;\n        this.submitButton.disabled = !hasText || !this.isEnabled || this.isSubmitting || isOverLimit;\n    }\n    // Public API\n    focus() {\n        this.textarea.focus();\n    }\n    setValue(value) {\n        this.textarea.value = value;\n        this.autoResize();\n        this.updateCharCounter();\n    }\n    getValue() {\n        return this.textarea.value;\n    }\n    setEnabled(enabled) {\n        this.isEnabled = enabled;\n        this.textarea.disabled = !enabled;\n        this.updateButtonState();\n        if (enabled) {\n            this.textarea.placeholder = 'Ask me anything about your documents...';\n        }\n        else {\n            this.textarea.placeholder = 'Connecting to server...';\n        }\n    }\n    clear() {\n        this.textarea.value = '';\n        this.autoResize();\n        this.updateCharCounter();\n        this.hideCharCounter();\n    }\n}\n// Register the custom element\ncustomElements.define('rag-input-form', RAGInputForm);\n","export class RAGCitationPanel extends HTMLElement {\n    constructor() {\n        super();\n        this.citations = [];\n        this.isVisible = false;\n        this._shadowRoot = this.attachShadow({ mode: 'open' });\n        this.setupComponent();\n    }\n    connectedCallback() {\n        this.render();\n    }\n    setupComponent() {\n        const style = document.createElement('style');\n        style.textContent = `\n      :host {\n        display: block;\n        background: var(--rag-surface-color, #f8fafc);\n        border-top: 1px solid var(--rag-border-color, #e2e8f0);\n        max-height: 250px;\n        overflow: hidden;\n        transition: all 0.3s ease;\n      }\n      \n      :host([hidden]) {\n        display: none;\n      }\n      \n      .citation-panel {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n      }\n      \n      .panel-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: var(--rag-spacing-sm, 0.5rem) var(--rag-spacing-md, 1rem);\n        background: var(--rag-background-color, #ffffff);\n        border-bottom: 1px solid var(--rag-border-color, #e2e8f0);\n        font-size: var(--rag-font-size-sm, 0.875rem);\n        font-weight: 600;\n        color: var(--rag-text-secondary, #64748b);\n      }\n      \n      .panel-title {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n      }\n      \n      .citation-count {\n        background: var(--rag-primary-color, #2563eb);\n        color: white;\n        padding: 0.125rem 0.375rem;\n        border-radius: 0.75rem;\n        font-size: 0.75rem;\n        font-weight: 500;\n      }\n      \n      .close-button {\n        background: none;\n        border: none;\n        cursor: pointer;\n        padding: 0.25rem;\n        border-radius: 0.25rem;\n        color: var(--rag-text-muted, #94a3b8);\n        transition: all 0.2s ease;\n      }\n      \n      .close-button:hover {\n        background: var(--rag-surface-color, #f8fafc);\n        color: var(--rag-text-secondary, #64748b);\n      }\n      \n      .citation-list {\n        flex: 1;\n        overflow-y: auto;\n        padding: var(--rag-spacing-sm, 0.5rem);\n      }\n      \n      .citation {\n        display: flex;\n        flex-direction: column;\n        padding: var(--rag-spacing-sm, 0.5rem);\n        margin-bottom: var(--rag-spacing-sm, 0.5rem);\n        background: var(--rag-background-color, #ffffff);\n        border: 1px solid var(--rag-border-color, #e2e8f0);\n        border-radius: var(--rag-border-radius-sm, 0.25rem);\n        cursor: pointer;\n        transition: all 0.2s ease;\n        text-decoration: none;\n        color: inherit;\n      }\n      \n      .citation:hover {\n        border-color: var(--rag-primary-color, #2563eb);\n        box-shadow: var(--rag-shadow-sm, 0 1px 2px 0 rgb(0 0 0 / 0.05));\n        transform: translateY(-1px);\n      }\n      \n      .citation:last-child {\n        margin-bottom: 0;\n      }\n      \n      .citation__header {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        margin-bottom: var(--rag-spacing-xs, 0.25rem);\n        gap: var(--rag-spacing-sm, 0.5rem);\n      }\n      \n      .citation__title {\n        font-weight: 600;\n        font-size: var(--rag-font-size-sm, 0.875rem);\n        color: var(--rag-text-primary, #1e293b);\n        line-height: 1.4;\n        flex: 1;\n        margin: 0;\n      }\n      \n      .citation__score {\n        font-size: 0.75rem;\n        color: var(--rag-text-muted, #94a3b8);\n        background: var(--rag-surface-color, #f8fafc);\n        padding: 0.125rem 0.375rem;\n        border-radius: 0.75rem;\n        white-space: nowrap;\n        flex-shrink: 0;\n      }\n      \n      .citation__snippet {\n        font-size: var(--rag-font-size-sm, 0.875rem);\n        color: var(--rag-text-secondary, #64748b);\n        line-height: 1.4;\n        margin-bottom: var(--rag-spacing-xs, 0.25rem);\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n      }\n      \n      .citation__meta {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 0.75rem;\n        color: var(--rag-text-muted, #94a3b8);\n        gap: var(--rag-spacing-sm, 0.5rem);\n      }\n      \n      .citation__file-info {\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n        flex: 1;\n      }\n      \n      .file-type-badge {\n        padding: 0.0625rem 0.25rem;\n        background: var(--rag-primary-color, #2563eb);\n        color: white;\n        border-radius: 0.25rem;\n        font-size: 0.625rem;\n        font-weight: 600;\n        text-transform: uppercase;\n      }\n      \n      .citation__page {\n        white-space: nowrap;\n      }\n      \n      .external-link-icon {\n        width: 0.875rem;\n        height: 0.875rem;\n        opacity: 0.5;\n        transition: opacity 0.2s ease;\n      }\n      \n      .citation:hover .external-link-icon {\n        opacity: 1;\n      }\n      \n      .empty-state {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding: var(--rag-spacing-xl, 2rem);\n        text-align: center;\n        color: var(--rag-text-secondary, #64748b);\n      }\n      \n      .empty-state__icon {\n        font-size: 2rem;\n        margin-bottom: var(--rag-spacing-sm, 0.5rem);\n        opacity: 0.5;\n      }\n      \n      .empty-state__message {\n        font-size: var(--rag-font-size-sm, 0.875rem);\n      }\n      \n      /* Scrollbar styling */\n      .citation-list::-webkit-scrollbar {\n        width: 6px;\n      }\n      \n      .citation-list::-webkit-scrollbar-track {\n        background: var(--rag-surface-color, #f8fafc);\n      }\n      \n      .citation-list::-webkit-scrollbar-thumb {\n        background: var(--rag-border-color, #e2e8f0);\n        border-radius: 3px;\n      }\n      \n      .citation-list::-webkit-scrollbar-thumb:hover {\n        background: var(--rag-text-muted, #94a3b8);\n      }\n    `;\n        this._shadowRoot.appendChild(style);\n    }\n    render() {\n        const container = document.createElement('div');\n        container.className = 'citation-panel';\n        // Header\n        const header = document.createElement('div');\n        header.className = 'panel-header';\n        const title = document.createElement('div');\n        title.className = 'panel-title';\n        title.innerHTML = `\n      <span>Sources</span>\n      <span class=\"citation-count\">${this.citations.length}</span>\n    `;\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close-button';\n        closeButton.innerHTML = 'âœ•';\n        closeButton.setAttribute('aria-label', 'Close citations panel');\n        closeButton.addEventListener('click', () => this.hide());\n        header.appendChild(title);\n        header.appendChild(closeButton);\n        // Citation list\n        const listContainer = document.createElement('div');\n        listContainer.className = 'citation-list';\n        this.renderCitations(listContainer);\n        container.appendChild(header);\n        container.appendChild(listContainer);\n        this._shadowRoot.appendChild(container);\n    }\n    renderCitations(container) {\n        if (this.citations.length === 0) {\n            this.renderEmptyState(container);\n            return;\n        }\n        container.innerHTML = '';\n        this.citations.forEach((citation, index) => {\n            const citationElement = this.createCitationElement(citation, index);\n            container.appendChild(citationElement);\n        });\n    }\n    renderEmptyState(container) {\n        container.innerHTML = `\n      <div class=\"empty-state\">\n        <div class=\"empty-state__icon\">ðŸ“„</div>\n        <div class=\"empty-state__message\">\n          No sources available for this message\n        </div>\n      </div>\n    `;\n    }\n    createCitationElement(citation, index) {\n        const element = document.createElement('a');\n        element.className = 'citation';\n        element.href = citation.source_file_url;\n        element.target = '_blank';\n        element.rel = 'noopener noreferrer';\n        // Header with title and relevance score\n        const header = document.createElement('div');\n        header.className = 'citation__header';\n        const title = document.createElement('h4');\n        title.className = 'citation__title';\n        title.textContent = citation.source_file_name;\n        header.appendChild(title);\n        if (citation.relevance_score !== undefined) {\n            const score = document.createElement('div');\n            score.className = 'citation__score';\n            score.textContent = `${Math.round(citation.relevance_score * 100)}%`;\n            header.appendChild(score);\n        }\n        // Content snippet\n        const snippet = document.createElement('div');\n        snippet.className = 'citation__snippet';\n        snippet.textContent = citation.content_snippet;\n        // Meta information\n        const meta = document.createElement('div');\n        meta.className = 'citation__meta';\n        const fileInfo = document.createElement('div');\n        fileInfo.className = 'citation__file-info';\n        // File type badge\n        if (citation.metadata?.file_type) {\n            const typeBadge = document.createElement('span');\n            typeBadge.className = 'file-type-badge';\n            typeBadge.textContent = this.getFileTypeDisplay(citation.metadata.file_type);\n            fileInfo.appendChild(typeBadge);\n        }\n        // File name (truncated)\n        const fileName = document.createElement('span');\n        fileName.textContent = this.truncateFileName(citation.source_file_name, 30);\n        fileInfo.appendChild(fileName);\n        meta.appendChild(fileInfo);\n        // Page number if available\n        if (citation.page_number) {\n            const pageInfo = document.createElement('div');\n            pageInfo.className = 'citation__page';\n            pageInfo.textContent = `Page ${citation.page_number}`;\n            meta.appendChild(pageInfo);\n        }\n        // External link icon\n        const linkIcon = document.createElement('div');\n        linkIcon.className = 'external-link-icon';\n        linkIcon.innerHTML = 'â†—';\n        meta.appendChild(linkIcon);\n        element.appendChild(header);\n        element.appendChild(snippet);\n        element.appendChild(meta);\n        // Add click tracking\n        element.addEventListener('click', () => {\n            this.trackCitationClick(citation, index);\n        });\n        return element;\n    }\n    getFileTypeDisplay(fileType) {\n        const typeMap = {\n            'pdf': 'PDF',\n            'doc': 'DOC',\n            'docx': 'DOCX',\n            'txt': 'TXT',\n            'md': 'MD',\n            'html': 'HTML',\n            'xlsx': 'XLSX',\n            'pptx': 'PPTX'\n        };\n        return typeMap[fileType.toLowerCase()] || fileType.toUpperCase();\n    }\n    truncateFileName(fileName, maxLength) {\n        if (fileName.length <= maxLength)\n            return fileName;\n        const extension = fileName.split('.').pop();\n        const nameWithoutExt = fileName.substring(0, fileName.lastIndexOf('.'));\n        const truncated = nameWithoutExt.substring(0, maxLength - extension.length - 4) + '...';\n        return `${truncated}.${extension}`;\n    }\n    trackCitationClick(citation, index) {\n        // Emit event for analytics/tracking\n        const event = new CustomEvent('rag-citation-clicked', {\n            detail: { citation, index },\n            bubbles: true\n        });\n        this.dispatchEvent(event);\n    }\n    updateHeader() {\n        const countElement = this._shadowRoot.querySelector('.citation-count');\n        if (countElement) {\n            countElement.textContent = this.citations.length.toString();\n        }\n    }\n    // Public API\n    setCitations(citations) {\n        this.citations = citations;\n        this.updateHeader();\n        const listContainer = this._shadowRoot.querySelector('.citation-list');\n        if (listContainer) {\n            this.renderCitations(listContainer);\n        }\n    }\n    addCitation(citation) {\n        this.citations.push(citation);\n        this.setCitations(this.citations);\n    }\n    clearCitations() {\n        this.citations = [];\n        this.setCitations(this.citations);\n    }\n    show() {\n        this.isVisible = true;\n        this.style.display = 'block';\n        // Emit show event\n        const event = new CustomEvent('rag-citation-panel-show', {\n            bubbles: true\n        });\n        this.dispatchEvent(event);\n    }\n    hide() {\n        this.isVisible = false;\n        this.style.display = 'none';\n        // Emit hide event\n        const event = new CustomEvent('rag-citation-panel-hide', {\n            bubbles: true\n        });\n        this.dispatchEvent(event);\n    }\n    toggle() {\n        if (this.isVisible) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    }\n    getCitations() {\n        return [...this.citations];\n    }\n    isShowing() {\n        return this.isVisible;\n    }\n}\n// Register the custom element\ncustomElements.define('rag-citation-panel', RAGCitationPanel);\n","/**\n * RAG Chat Components - Web Components for the RAG Chat system\n *\n * This module exports all the Web Components used in the RAG Chat interface.\n * Each component is designed to be used independently or as part of the complete system.\n */\n// Import and register all components\nimport './chat-interface';\nimport './message-list';\nimport './input-form';\nimport './citation-panel';\n// Re-export component classes for programmatic access\nexport { RAGChatInterface } from './chat-interface';\nexport { RAGMessageList } from './message-list';\nexport { RAGInputForm } from './input-form';\nexport { RAGCitationPanel } from './citation-panel';\n/**\n * Apply global configuration to RAG Chat components\n */\nexport function configureRAGChat(config = {}) {\n    // Set default light theme CSS custom properties\n    const root = document.documentElement;\n    root.style.setProperty('--rag-background-color', '#ffffff');\n    root.style.setProperty('--rag-surface-color', '#f8fafc');\n    root.style.setProperty('--rag-text-primary', '#1e293b');\n    root.style.setProperty('--rag-text-secondary', '#64748b');\n    root.style.setProperty('--rag-border-color', '#e2e8f0');\n    // Always use GPT-4o-mini model\n    config.model = 'gpt-4o-mini';\n    // Store config for components to access\n    window.RAGChatConfig = config;\n}\n/**\n * Get current configuration\n */\nexport function getRAGChatConfig() {\n    return window.RAGChatConfig || {};\n}\n","/**\n * RAG Chat Frontend - Main Entry Point\n *\n * This module initializes the RAG Chat system and exports the main API\n * for integration with WordPress and other platforms.\n */\nimport './styles/components.css';\nimport { configureRAGChat, getRAGChatConfig } from './components/index';\n// Import all components to register them\nimport './components/index';\n/**\n * Main RAG Chat class for programmatic access\n */\nexport class RAGChat {\n    constructor(container, config = {}) {\n        // Get container element\n        if (typeof container === 'string') {\n            const element = document.querySelector(container);\n            if (!element) {\n                throw new Error(`RAGChat: Container element \"${container}\" not found`);\n            }\n            this.container = element;\n        }\n        else {\n            this.container = container;\n        }\n        // Apply configuration\n        configureRAGChat(config);\n        // Initialize chat interface\n        this.init();\n    }\n    init() {\n        // Create chat interface element\n        this.chatInterface = document.createElement('rag-chat-interface');\n        // Apply container styling\n        this.container.style.height = this.container.style.height || '600px';\n        this.container.style.width = this.container.style.width || '100%';\n        // Add chat interface to container\n        this.container.appendChild(this.chatInterface);\n        // Set up event listeners for external integration\n        this.setupEventListeners();\n    }\n    setupEventListeners() {\n        // Listen for messages to enable external handling\n        this.chatInterface.addEventListener('rag-message-send', ((event) => {\n            this.onMessageSend(event.detail);\n        }));\n        // Listen for citation clicks\n        this.chatInterface.addEventListener('rag-citation-clicked', ((event) => {\n            this.onCitationClick(event.detail);\n        }));\n        // Listen for connection status changes\n        this.chatInterface.addEventListener('rag-connection-status', ((event) => {\n            this.onConnectionStatusChange(event.detail);\n        }));\n    }\n    onMessageSend(detail) {\n        // Emit external event for WordPress integration\n        const event = new CustomEvent('ragchat:message-send', {\n            detail,\n            bubbles: true\n        });\n        document.dispatchEvent(event);\n    }\n    onCitationClick(detail) {\n        // Emit external event for WordPress integration\n        const event = new CustomEvent('ragchat:citation-click', {\n            detail,\n            bubbles: true\n        });\n        document.dispatchEvent(event);\n    }\n    onConnectionStatusChange(detail) {\n        // Emit external event for WordPress integration\n        const event = new CustomEvent('ragchat:connection-status', {\n            detail,\n            bubbles: true\n        });\n        document.dispatchEvent(event);\n    }\n    // Public API methods\n    clearMessages() {\n        if (this.chatInterface) {\n            this.chatInterface.clearMessages();\n        }\n    }\n    getMessages() {\n        if (this.chatInterface) {\n            return this.chatInterface.getMessages();\n        }\n        return [];\n    }\n    getSessionId() {\n        if (this.chatInterface) {\n            return this.chatInterface.getSessionId();\n        }\n        return null;\n    }\n    destroy() {\n        if (this.chatInterface) {\n            this.chatInterface.remove();\n        }\n    }\n}\n/**\n * Initialize RAG Chat with simple API\n */\nexport function createRAGChat(container, config = {}) {\n    return new RAGChat(container, config);\n}\n/**\n * Global initialization\n */\nfunction initGlobal() {\n    // Make available globally\n    window.RAGChat = {\n        create: createRAGChat,\n        configure: configureRAGChat,\n        getConfig: getRAGChatConfig\n    };\n    // Emit ready event\n    document.addEventListener('DOMContentLoaded', () => {\n        const event = new CustomEvent('ragchat:ready', {\n            detail: { version: '1.0.0' }\n        });\n        document.dispatchEvent(event);\n    });\n}\n// Initialize global features\ninitGlobal();\n// Export main API\nexport default RAGChat;\nexport * from './components/index';\n/**\n * Usage Examples:\n *\n * 1. Basic Usage:\n *    import RAGChat from './path/to/rag-chat';\n *    const chat = new RAGChat('#chat-container');\n *\n * 2. With Configuration:\n *    const chat = new RAGChat('#chat-container', {\n *      wsEndpoint: 'ws://localhost:8000/ws',\n *      enableCitations: true,\n *      enableStreaming: true\n *    });\n *\n * 3. Global Access (after script load):\n *    const chat = window.RAGChat.create('#chat-container');\n */\n"],"names":["root","factory","exports","module","define","amd","this","styleElement","nonce","setAttribute","stylesInDOM","getIndexByIdentifier","identifier","result","i","length","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","concat","indexByIdentifier","obj","css","media","sourceMap","supports","layer","references","updater","addElementStyle","byIndex","splice","push","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","styleSheet","cssText","firstChild","removeChild","appendChild","document","createTextNode","cssWithMappingToString","toString","map","content","needLayer","join","modules","dedupe","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","element","createElement","setAttributes","attributes","insert","memo","style","target","styleTarget","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","___CSS_LOADER_EXPORT___","insertStyleElement","styleTagTransform","apply","parentNode","removeStyleElement","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","nc","generateId","prefix","Math","random","substr","locals","StateManager","constructor","currentSession","listeners","Map","connectionState","initializeSession","getInstance","instance","generateSessionId","messages","created_at","Date","updated_at","now","getCurrentSession","createNewSession","emit","addMessage","message","fullMessage","generateMessageId","timestamp","updateMessage","messageId","updates","messageIndex","findIndex","m","updatedMessage","getMessages","getLastMessage","addCitationsToMessage","citations","getAllCitations","filter","flatMap","citation","arr","c","on","event","listener","has","set","Set","add","off","eventListeners","delete","size","forEach","error","console","setConnectionState","state","getConnectionState","clearSession","exportSession","importSession","sessionData","session","parse","Array","isArray","WebSocketClient","config","ws","reconnectTimer","pingTimer","reconnectAttempts","isIntentionallyClosed","url","maxReconnectAttempts","reconnectInterval","reconnectDelay","pingInterval","heartbeatInterval","stateManager","connect","Promise","resolve","reject","WebSocket","onopen","log","startPing","onmessage","handleMessage","onclose","code","reason","cleanup","scheduleReconnect","onerror","disconnect","readyState","OPEN","close","sendMessage","type","warn","send","sendChatMessage","sessionId","rawData","handleMessageStart","handleMessageChunk","handleMessageComplete","handleCitations","handleError","role","status","isStreaming","lastMessage","updatedContent","chunk","setTimeout","catch","setInterval","clearTimeout","clearInterval","isConnected","RAGChatInterface","HTMLElement","super","_isConnected","_shadowRoot","attachShadow","mode","wsClient","setupComponent","setupWebSocketListeners","connectedCallback","render","setupEventListeners","connectWebSocket","input","focus","disconnectedCallback","textContent","container","className","header","innerHTML","messageList","citationPanel","display","inputForm","addEventListener","handleMessageSend","bind","handleCitationsReceived","handleConnectionStatus","detail","userMessage","assistantMessage","sendToBackend","setCitations","updateConnectionStatus","indicator","statusText","charAt","toUpperCase","slice","setEnabled","find","updateStreamingMessage","completeMessage","CustomEvent","getSessionId","clearMessages","customElements","RAGMessageList","messageContainer","renderMessages","messageElement","createMessageElement","scrollToBottom","renderEmptyState","messageEl","classList","contentEl","formatMessageContent","metaEl","timestampEl","date","diff","getTime","seconds","floor","minutes","hours","toLocaleDateString","formatTimestamp","statusEl","getStatusText","citationIndicators","createCitationIndicators","text","div","escapeHtml","bubbles","dispatchEvent","requestAnimationFrame","scrollTop","scrollHeight","newElement","replaceWith","streamMessageUpdate","contentDelta","RAGInputForm","isEnabled","isSubmitting","inputWrapper","textarea","placeholder","rows","charCounter","submitButton","keyboardHint","wrapper","autoResize","updateCharCounter","shiftKey","preventDefault","handleSubmit","showCharCounter","func","timeout","args","debounce","trim","hideCharCounter","height","newHeight","min","maxLength","disabled","setSubmitting","submitting","updateButtonState","hasText","isOverLimit","setValue","getValue","enabled","clear","RAGCitationPanel","isVisible","title","closeButton","hide","listContainer","renderCitations","citationElement","createCitationElement","href","source_file_url","rel","source_file_name","relevance_score","score","round","snippet","content_snippet","meta","fileInfo","metadata","file_type","typeBadge","getFileTypeDisplay","fileName","truncateFileName","page_number","pageInfo","linkIcon","trackCitationClick","fileType","toLowerCase","extension","split","pop","substring","lastIndexOf","updateHeader","countElement","addCitation","clearCitations","show","toggle","getCitations","isShowing","configureRAGChat","documentElement","setProperty","model","RAGChatConfig","getRAGChatConfig","RAGChat","init","chatInterface","width","onMessageSend","onCitationClick","onConnectionStatusChange","destroy","createRAGChat","create","configure","getConfig","version"],"sourceRoot":""}